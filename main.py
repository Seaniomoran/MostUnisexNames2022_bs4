import requests
from bs4 import BeautifulSoup

unisex_baby_names = requests.get("https://thegreenspringhome.com/blog/gender-neutral-names/")
soup = BeautifulSoup(unisex_baby_names.text, "html.parser")
paragraphs = soup.find_all("p")
names = []

for i in paragraphs:
    try:
        item = i.text
        int(item[0])
        item = item.split(". ")
        names.append(item[1])
    except ValueError:
        pass
    except IndexError:
        pass

name_info = {}
for name in names:
    age_response = requests.get(f"https://api.agify.io/?name={name}").json()
    gender_response = requests.get(f"https://api.genderize.io/?name={name}").json()
    gender_probability = gender_response["probability"]
    gender_sample_size = gender_response["count"]
    age = age_response["age"]
    gender = gender_response["gender"]
    name_info[name] = {
            "predicted age": age,
            "gender": gender,
            "probability": gender_probability,
            "gender sample size": gender_sample_size,
    }

name_info = dict(sorted(name_info.items(), key=lambda item: item[1]["probability"]))


#results = {'Ellison': {'predicted age': 59, 'gender': 'female', 'probability': 0.5, 'gender sample size': 72}, 'Saylor': {'predicted age': 39, 'gender': 'female', 'probability': 0.53, 'gender sample size': 40}, 'Zane': {'predicted age': 30, 'gender': 'female', 'probability': 0.55, 'gender sample size': 1355}, 'Tatum': {'predicted age': 50, 'gender': 'female', 'probability': 0.56, 'gender sample size': 188}, 'Lane': {'predicted age': 27, 'gender': 'female', 'probability': 0.56, 'gender sample size': 652}, 'Terrin': {'predicted age': 28, 'gender': 'male', 'probability': 0.57, 'gender sample size': 14}, 'Nicky': {'predicted age': 52, 'gender': 'female', 'probability': 0.59, 'gender sample size': 11708}, 'Harlow': {'predicted age': 53, 'gender': 'male', 'probability': 0.61, 'gender sample size': 18}, 'Loren': {'predicted age': 60, 'gender': 'male', 'probability': 0.61, 'gender sample size': 3953}, 'Teegan': {'predicted age': 31, 'gender': 'female', 'probability': 0.63, 'gender sample size': 8}, 'Blair': {'predicted age': 66, 'gender': 'male', 'probability': 0.64, 'gender sample size': 1167}, 'Valen': {'predicted age': 43, 'gender': 'male', 'probability': 0.65, 'gender sample size': 1266}, 'Andie': {'predicted age': 40, 'gender': 'female', 'probability': 0.65, 'gender sample size': 661}, 'Ari': {'predicted age': 47, 'gender': 'male', 'probability': 0.65, 'gender sample size': 10413}, 'Reese': {'predicted age': 46, 'gender': 'male', 'probability': 0.65, 'gender sample size': 230}, 'Aspen': {'predicted age': 39, 'gender': 'male', 'probability': 0.66, 'gender sample size': 88}, 'Avery': {'predicted age': 36, 'gender': 'male', 'probability': 0.67, 'gender sample size': 263}, 'Kirby': {'predicted age': 68, 'gender': 'male', 'probability': 0.68, 'gender sample size': 523}, 'Kade': {'predicted age': 38, 'gender': 'male', 'probability': 0.68, 'gender sample size': 285}, 'Rowan': {'predicted age': 35, 'gender': 'male', 'probability': 0.69, 'gender sample size': 902}, 'Beck': {'predicted age': 50, 'gender': 'male', 'probability': 0.69, 'gender sample size': 639}, 'Darby': {'predicted age': 39, 'gender': 'male', 'probability': 0.69, 'gender sample size': 141}, 'Rory': {'predicted age': 72, 'gender': 'male', 'probability': 0.69, 'gender sample size': 2681}, 'Dakota': {'predicted age': 61, 'gender': 'female', 'probability': 0.7, 'gender sample size': 673}, 'Quinn': {'predicted age': 43, 'gender': 'male', 'probability': 0.71, 'gender sample size': 370}, 'Taylor': {'predicted age': 34, 'gender': 'male', 'probability': 0.72, 'gender sample size': 3370}, 'Haven': {'predicted age': 37, 'gender': 'male', 'probability': 0.73, 'gender sample size': 98}, 'Riley': {'predicted age': 39, 'gender': 'male', 'probability': 0.74, 'gender sample size': 635}, 'Casey': {'predicted age': 49, 'gender': 'male', 'probability': 0.74, 'gender sample size': 3423}, 'Dawson': {'predicted age': 64, 'gender': 'male', 'probability': 0.77, 'gender sample size': 382}, 'Sloane': {'predicted age': 59, 'gender': 'female', 'probability': 0.77, 'gender sample size': 160}, 'Jace': {'predicted age': 49, 'gender': 'male', 'probability': 0.77, 'gender sample size': 368}, 'Beckett': {'predicted age': 29, 'gender': 'male', 'probability': 0.78, 'gender sample size': 18}, 'Phoenix': {'predicted age': 51, 'gender': 'male', 'probability': 0.78, 'gender sample size': 2263}, 'Sidney': {'predicted age': 27, 'gender': 'male', 'probability': 0.79, 'gender sample size': 2861}, 'Auden': {'predicted age': 51, 'gender': 'male', 'probability': 0.79, 'gender sample size': 19}, 'Jalen': {'predicted age': 43, 'gender': 'male', 'probability': 0.8, 'gender sample size': 56}, 'Ariel': {'predicted age': 49, 'gender': 'male', 'probability': 0.81, 'gender sample size': 11501}, 'Ashton': {'predicted age': 57, 'gender': 'male', 'probability': 0.81, 'gender sample size': 623}, 'Jude': {'predicted age': 54, 'gender': 'male', 'probability': 0.81, 'gender sample size': 4365}, 'Sutton': {'predicted age': 34, 'gender': 'male', 'probability': 0.81, 'gender sample size': 36}, 'Charlie': {'predicted age': 31, 'gender': 'male', 'probability': 0.81, 'gender sample size': 17826}, 'Sam': {'predicted age': 51, 'gender': 'male', 'probability': 0.81, 'gender sample size': 96261}, 'Peyton': {'predicted age': 30, 'gender': 'female', 'probability': 0.82, 'gender sample size': 350}, 'River': {'predicted age': 48, 'gender': 'male', 'probability': 0.82, 'gender sample size': 618}, 'Bex': {'predicted age': 28, 'gender': 'female', 'probability': 0.82, 'gender sample size': 726}, 'Channing': {'predicted age': 39, 'gender': 'male', 'probability': 0.83, 'gender sample size': 81}, 'Amari': {'predicted age': 44, 'gender': 'male', 'probability': 0.85, 'gender sample size': 487}, 'Emery': {'predicted age': 48, 'gender': 'male', 'probability': 0.85, 'gender sample size': 480}, 'Madison': {'predicted age': 30, 'gender': 'female', 'probability': 0.86, 'gender sample size': 1649}, 'Pax': {'predicted age': 49, 'gender': 'male', 'probability': 0.86, 'gender sample size': 444}, 'Campbell': {'predicted age': 56, 'gender': 'male', 'probability': 0.87, 'gender sample size': 371}, 'Finley': {'predicted age': 34, 'gender': 'male', 'probability': 0.87, 'gender sample size': 110}, 'Stevie': {'predicted age': 53, 'gender': 'male', 'probability': 0.87, 'gender sample size': 2568}, 'August': {'predicted age': 53, 'gender': 'male', 'probability': 0.88, 'gender sample size': 1401}, 'Whitley': {'predicted age': 31, 'gender': 'female', 'probability': 0.89, 'gender sample size': 56}, 'Aden': {'predicted age': 39, 'gender': 'male', 'probability': 0.89, 'gender sample size': 723}, 'Camden': {'predicted age': 52, 'gender': 'male', 'probability': 0.89, 'gender sample size': 44}, 'Arden': {'predicted age': 35, 'gender': 'male', 'probability': 0.89, 'gender sample size': 169}, 'Dallas': {'predicted age': 53, 'gender': 'male', 'probability': 0.89, 'gender sample size': 836}, 'Darian': {'predicted age': 42, 'gender': 'male', 'probability': 0.89, 'gender sample size': 342}, 'Nowell': {'predicted age': 36, 'gender': 'male', 'probability': 0.89, 'gender sample size': 45}, 'Morgan': {'predicted age': 40, 'gender': 'male', 'probability': 0.89, 'gender sample size': 15354}, 'Atlas': {'predicted age': 68, 'gender': 'male', 'probability': 0.9, 'gender sample size': 722}, 'Kane': {'predicted age': 33, 'gender': 'male', 'probability': 0.9, 'gender sample size': 1943}, 'Perry': {'predicted age': 53, 'gender': 'male', 'probability': 0.9, 'gender sample size': 2924}, 'Alex': {'predicted age': 38, 'gender': 'male', 'probability': 0.9, 'gender sample size': 411319}, 'Parker': {'predicted age': 53, 'gender': 'male', 'probability': 0.91, 'gender sample size': 982}, 'Flynn': {'predicted age': 41, 'gender': 'male', 'probability': 0.91, 'gender sample size': 148}, 'Hayden': {'predicted age': 38, 'gender': 'male', 'probability': 0.91, 'gender sample size': 734}, 'Brooks': {'predicted age': 48, 'gender': 'male', 'probability': 0.92, 'gender sample size': 393}, 'Cameron': {'predicted age': 40, 'gender': 'male', 'probability': 0.92, 'gender sample size': 3334}, 'Devan': {'predicted age': 36, 'gender': 'male', 'probability': 0.92, 'gender sample size': 270}, 'Maddox': {'predicted age': 36, 'gender': 'male', 'probability': 0.92, 'gender sample size': 106}, 'Ira': {'predicted age': 41, 'gender': 'female', 'probability': 0.92, 'gender sample size': 6844}, 'Presley': {'predicted age': 32, 'gender': 'male', 'probability': 0.92, 'gender sample size': 295}, 'Sawyer': {'predicted age': 42, 'gender': 'male', 'probability': 0.93, 'gender sample size': 443}, 'Kai': {'predicted age': 48, 'gender': 'male', 'probability': 0.93, 'gender sample size': 17357}, 'Reagan': {'predicted age': 39, 'gender': 'male', 'probability': 0.94, 'gender sample size': 614}, 'Rooney': {'predicted age': 39, 'gender': 'male', 'probability': 0.94, 'gender sample size': 644}, 'Arlo': {'predicted age': 67, 'gender': 'male', 'probability': 0.95, 'gender sample size': 135}, 'Baker': {'predicted age': 43, 'gender': 'male', 'probability': 0.95, 'gender sample size': 733}, 'Drew': {'predicted age': 52, 'gender': 'male', 'probability': 0.95, 'gender sample size': 3330}, 'Tanner': {'predicted age': 72, 'gender': 'male', 'probability': 0.95, 'gender sample size': 346}, 'Hudson': {'predicted age': 36, 'gender': 'male', 'probability': 0.95, 'gender sample size': 446}, 'Blake': {'predicted age': 59, 'gender': 'male', 'probability': 0.96, 'gender sample size': 2426}, 'Colby': {'predicted age': 44, 'gender': 'male', 'probability': 0.96, 'gender sample size': 450}, 'Hunter': {'predicted age': 49, 'gender': 'male', 'probability': 0.96, 'gender sample size': 2375}, 'Kennedy': {'predicted age': 37, 'gender': 'male', 'probability': 0.96, 'gender sample size': 2836}, 'Luca': {'predicted age': 55, 'gender': 'male', 'probability': 0.96, 'gender sample size': 185452}, 'Oakley': {'predicted age': 51, 'gender': 'male', 'probability': 0.96, 'gender sample size': 56}, 'Logan': {'predicted age': 35, 'gender': 'male', 'probability': 0.96, 'gender sample size': 4232}, 'Landry': {'predicted age': 44, 'gender': 'male', 'probability': 0.97, 'gender sample size': 3515}, 'Blaine': {'predicted age': 56, 'gender': 'male', 'probability': 0.97, 'gender sample size': 468}, 'Dalton': {'predicted age': 31, 'gender': 'male', 'probability': 0.97, 'gender sample size': 702}, 'Denver': {'predicted age': 37, 'gender': 'male', 'probability': 0.97, 'gender sample size': 836}, 'Grayson': {'predicted age': 45, 'gender': 'male', 'probability': 0.97, 'gender sample size': 117}, 'Lennon': {'predicted age': 44, 'gender': 'male', 'probability': 0.97, 'gender sample size': 305}, 'Jordan': {'predicted age': 31, 'gender': 'male', 'probability': 0.97, 'gender sample size': 30440}, 'Mason': {'predicted age': 47, 'gender': 'male', 'probability': 0.97, 'gender sample size': 980}, 'Julian': {'predicted age': 33, 'gender': 'male', 'probability': 0.98, 'gender sample size': 33459}, 'Maxwell': {'predicted age': 35, 'gender': 'male', 'probability': 0.98, 'gender sample size': 3503}, 'Corey': {'predicted age': 39, 'gender': 'male', 'probability': 0.98, 'gender sample size': 3457}, 'Tyler': {'predicted age': 28, 'gender': 'male', 'probability': 0.98, 'gender sample size': 7242}, 'Patton': {'predicted age': 58, 'gender': 'male', 'probability': 0.99, 'gender sample size': 77}, 'Adrian': {'predicted age': 32, 'gender': 'male', 'probability': 0.99, 'gender sample size': 90344}, 'Emerson': {'predicted age': 37, 'gender': 'male', 'probability': 0.99, 'gender sample size': 2206}, 'Ryan': {'predicted age': 44, 'gender': 'male', 'probability': 0.99, 'gender sample size': 45164}, 'Easton': {'predicted age': 57, 'gender': 'male', 'probability': 1, 'gender sample size': 47}, 'Caelan': {'predicted age': 49, 'gender': 'male', 'probability': 1, 'gender sample size': 3}}
#the predicted age is just another fun bit